{"version":3,"sources":["src/core/router.ts","src/core/view.ts","src/core/api.ts","src/config.ts","src/page/news-detail-view.ts","src/page/news-feed-view.ts","src/page/index.ts","src/app.ts"],"names":[],"mappings":";;;;;ACAA;AEAa,AHGb,IAAA,GGHa,CAAA,EHGb,MGHa,GAAW,sCAAX;AACA,AHEb,ACFA,IAAA,GEAa,CAAA,AFAb,WEAa,GAAc,wCAAd,EAAwD;AHErE,ACFA,YDEA;ACFA,EDMI,SAAA,CCNJ,KDMI,GAAA;ECAA,EDCI,MAAM,CAAC,ACDX,IAAA,CAAY,WDCR,ACDJ,CDC4B,CCDK,QAAjC,EAAiD,CDC7C,EAAsC,KAAK,KAAL,CAAW,IAAX,CAAgB,IAAhB,CAAtC,EADJ,CACkE;ICA9D,IAAM,gBAAgB,GAAG,QAAQ,CAAC,cAAT,CAAwB,WAAxB,CAAzB;AMRR,IAAA,APUQ,KAAK,GOVb,GAAA,IPUQ,GAAiB,EAAjB,MOVR,CAAA,OAAA,CAAA,eAAA,CAAA,CAAA;ADAA,INWQ,ACDA,AKVR,ILUY,CDCC,ACDA,YDCL,CMXR,ENW4B,CCDpB,AKVR,ELU+B,CDCvB,IMXR,CAAA,oBAAA,CAAA;ACCA,EPWK,EOXL,ENUY,IMVZ,ENUkB,CMVlB,OAAA,CAAA,QAAA,CAAA,WNUY;AKXH,ENcL,ECFK,EKZA,CAAA,cAAA,CAAA,OAAA,EAAA,gBAAA,EAAA;ACIT,EDJS,ECIH,KAAK,GAAW,ADJb,EAAA,IAAA;ECKL,ADLK,ELcD,CKdC,EAAA,ELcI,IMTE,EAAE,CADK,ENUd,GAAiB,CKdhB,eLcD;EMRJ,APSA,ECAI,AKfC,GCMA,CPSL,COTO,APSP,ACAS,EKfJ,MLeD,CDAJ,CAAA,CCAoB,MKff,CAAA,CLeD,GDAJ,GAAA,UAAa,CMfR,CAAA,CAAA,CNeL,EAA2B,IAA3B,AMfK,ENegC;AOXnB,CAAtB,CDJgB,ENgBR,ACAA,KDAK,ACAA,UDAL,CAAgB,GCAhB,CDAA,CAAqB,CCAC,QAAtB;AMDR,ADfS,CAAA,GLiBD,EMFF,APCyB,CODxB,ENEM,CDDsB,EODnC,APCmC,GODpB,CPCc,CCCrB,GMFR,ANEwB,EAAhB;AMAR,ENCK,EMDC,EPD+B,IOCzB,APD6B,EAAA,COClB,IAAI,QAAA,CAAA,OAAJ,EAAvB;AACA,ADjBA,ICiBM,APFuB,AMf7B,CNeQ,WOEU,GAAG,CDjBrB,GCiByB,ADjBzB,MCiByB,CAAA,ADjBzB,CAAA,WCiBqB,CAAiB,MAAjB,ADjBrB,CCiBA,ADjBA;ACkBA,EPFK,ACGS,CDLV,COIE,ENCQ,CAAA,SAAA,CAAA,CMDM,GAAG,IAAI,ENCb,GAAV,CMDuB,CAAA,UNCvB,IMDmB,CAAmB,MAAnB,CAAvB;AAEA,ADpBS,ENkBL,ECEI,EMAF,ADpBG,CCoBF,ADpBE,ELoBI,SAAL,CAAe,EMAvB,ADpBS,CCoBa,ADpBb,MLoBD,CKpBC,ELoByB,AKpBzB,GCoBT,ENAuC,CMAF,QDpB5B,EAAA,GLoBD;EKpBC,ELqBD,KAAK,GKrBJ,EAAA,IAAA,KLqBD,GAAsB,KAAK,QAA3B,CAFJ,CAEyC;AMC7C,ENAK,AKtBI,CLmBK,EKnBL,CCsBH,CAAC,ADtBE,YCsBT,CAAoB,EDtBX,MCsBT,EAA8B,YAA9B;AACA,EPJI,ACKA,EKxBK,ECuBH,CAAC,CPJH,CAAA,EMnBK,ONmBL,COIJ,APJI,COIgB,MDvBX,CAAA,CCuBT,EAA8B,GPJ1B,GAAA,OMnBK,CCuBT,ADvBS,CAAA,CNmBU,IAAf,EAAyB,AMnBpB;ACyBT,EDzBgB,ENoBR,EOKF,CAAC,EPLM,GOKb,IAAgB,KPLR,GAAoB;AMpBnB,CAAA,KNoBqB,IAAI,EAAE,EAAR;ECKd,IDL0B,ACK1B,CAAA,GDL8B,EAAA,ICK9B,CAAA,OAAA,GAAV,UAAkB,UAAlB,EAAoC;IDLZ,ACMpB,CDNA,ICMK,QAAL,CAAc,IAAd,CAAmB,UAAnB;EDLH,ACMA,CDRD,ACMU;EDFV,ACMA;;AC5BJ,IAAA,GAAA;AAAA,EFuBI,ACMU,IAAA,CAAA,CDNV,CAAA,OCMU,CAAA,CDNV,CAAA,KAAA,ACMU,GDNV,ACMA,YDNA,ACMA;AC7BJ,IFwBQ,ACMA,IDNM,ACMA,IC9Bd,ID8BsB,CDNC,ECME,CDNC,ICMI,IDNI,CAAC,GCMV,CDNjB,ACM+B,IAAd,CAAmB,EAAnB,CAAjB;EC1BJ,ED2BI,KAAK,EC3BT,GAAA,CAAY,GAAZ,EAAuB,ED2BnB,GAFJ,CAE0B;IC1BtB,AFqBA,IAAI,CErBC,IAAL,GAAY,CFqBC,GErBG,EFqBE,EAAd,IAAoB,KAAK,CErBjB,EAAZ,SFqBA,EAA2C;AI5BnD,ACAA,IHQQ,AD0BA,AGlCR,ACAA,EL6BY,GErBC,CERb,ACAA,CL6BiB,ACKF,CC1BP,CERR,ACAA,EHQmB,GAAX,CD0BA,IDLI,CAAkB,IAAlB,AI7BZ,ACAA,CL6BmC,AI7BnC,ACAA,ML6BY,CI7BZ,ACAA,CDAA,ACAA,cDAA,ACAA,CDAA,ACAA,CDAA,ACAA;EHSK,AD0BA,CAJS,CDDL;AI7BT,ACAA,EJoCI,EGpCJ,ACAA,KDAA,ACAA,GDAA,ACAA,ODAA,ACAA,CDAA,ACAA,aDAA,ACAA,CDAA,ACAA;EHUI,EFqBI,CErBJ,CAAA,GFqB4B,IAAA,EErB5B,AFqB4B,CErB5B,EFqB4B,CAAA,EAAA,EAAA,GErB5B,AFqB4B,GErB5B,EFqBiC,UErBjC,AFqBI,EAAwB,EAAA,GAAA,EAAA,CAAA,MAAxB,EAAwB,EAAA,EAAxB,EAAyC;AI7BjD,ACAA,IHSQ,AETR,ACAA,EL6Ba,GEpBA,CFoBM,EI7BnB,ACAA,CHSQ,CAAU,CETlB,ACAA,GHSQ,CAAe,AFoBK,GAAA,AI7B5B,ACAA,CDAA,ACAA,CHSQ,AFoBoB,CAAA,CEpBE,CFoBF,CAAf,GEpBsB,GAA3B,AETR,ACAA,CDAA,ACAA,CHSwC,KAAhC;ED0BM,ECzBN,EDyBM,CAAA,ECzBD,IAAL,CAAU,EDyBJ,CAAA,CCzBN,cDyBM,GAAV,UAA0B,GAA1B,EAAuC,KAAvC,EAAoD;AGjCxD,ACAA,IHUQ,ADwBA,AGlCF,ACAA,EL4BM,GCMC,CDNG,CElBD,CEVD,ACAA,GHUK,AEVF,ACAA,CHUG,GFkBK,CAAC,CElBX,CAAW,CDwBlB,GAAsB,CCxBC,AFkBf,CAAkB,GElBR,ADwBS,CCxBC,KFkBO,CAAC,EElB7B,CAAP,CFkBQ,GCMc,CAAoB,CDNG,CAAzC,EAA4C,GCM1B,CAA4B,OAAA,MAAA,CAAO,GAAP,EAAU,MAAV,CAA5B,EAA8C,KAA9C,CAAtB,2xBIlCR,4FDAA;EFWK,ADwBA,CC7BD,AD2BU,KDJE,SAAS,CAAC,IAAV,CAAe,MAAf;AIHhB,ACNA,EJiBI,EGXJ,ACNA,ILUgB,QKVhB,EDMA;AAAA,ACNA,EHRA,IFmBa,GEnBb,GAAA;AAfA,AE6BA,ACNA,CHvBA,EAAA,CFmCS,MINT,ACNA,MDMA,ACNA,EDMA,ACNA;ELaK,ACKO,AGZgC,ACNF,CLAtC,GCkBQ,CAAA,IGZgC,ACNF,CDME,ACNF,IJkB9B,CAAA,OIlB8B,EDME,ACNF,EDME,EHYhC,EIlB8B,CJkBtC,AIlBsC,CDME,CAAA,UHYxC;IACI,KAAK,QAAL,GAAgB,EAAhB;EDLR,ACMK,AGbD,ACHA,CJcQ,MDJZ,EIPI,ACHA,ILUJ,QKVI,CAAY,CDGZ,CAAY,SCHZ,EDGA,ACH+B,EDGA;AFbnC,AFhBA,CAAA,EAAA,CEgBA,AEaI,ACHA,IDGA,ACHA,KDGA,ACHA,EHVJ,CEcQ,ACHA,MDGA,ACHA,CDGA,ACHA,IDGA,ACHA,CDGA,ACHA,IDGA,ACHA,EDGM,ACHA,WDGN,ACHA,EDGmB,ACHA,QDGnB,ACHA,KDG4B,ACHA,IDEhC,ACHA;AHVJ,ED6BA,OAAA,IAAA;AC7BA,ADlBA,CAAA,EAAA,CGmCI,ACJI,KDIJ,ACJQ,CHbZ,AEiBI,ACJS,KAAL,CHbR,AEiBI,EFjBJ,AGaqB,CDIR,KCJc,CAAC,IDId,CCJO,CDIR,ACJqB,EDIV,GCJhB,CAH2B,CAGM;EHbR,IEkBzB,IAAM,CFlBmB,CAAA,CEkBhB,GAAG,IAAI,GFlBS,EAAA,AEkBT,CAAA,KFlBS,CAAA,OEkBb,CAAkB,QAAA,CAAA,WAAA,CAAY,OAAZ,CAAoB,KAApB,EAA2B,EAA3B,CAAlB,CAAZ,CADgB,CAGhB;ICNA,KAAI,CAAC,GAAL,GAAW,IAAI,KAAA,CAAA,WAAJ,CAAgB,QAAA,CAAA,QAAhB,CAAX,CAJ2B,CAIW;EHb1C,EGeI,EDKA,KFpBJ,AEoBQ,IAAI,CAAC,GAAC,CAAV,EFpBJ,AEoBiB,CFpBL,AEoBM,GFpBlB,AEoBqB,EFpBE,IEoBI,CAAC,KAAP,CAAa,KAAb,CAAmB,MAApC,EAA4C,CAAC,EAA7C,EAAiD;QAC7C,GFpBJ,CEoBQ,KFpBR,CAAA,AEoBc,CAAC,GFpBf,CAAA,CEoBQ,CAAa,EFpBrB,EAAM,CEoBE,CAAmB,CFpB3B,AEoBQ,EAAs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","file":"app.5cec07dd.js","sourceRoot":"..","sourcesContent":["import { RouteInfo } from '../types';\nimport View from './view';\n\nexport default class Router {\n    routeTable: RouteInfo[];\n    defaultRoute : RouteInfo | null;\n\n    constructor() {\n        window.addEventListener('hashchange', this.route.bind(this)); // 등록 시점의 this context 고정\n\n        this.routeTable= [];\n        this.defaultRoute = null;\n    }\n\n    /** view update */\n    addRoutePath(path: string, page: View): void {\n        this.routeTable.push({ path, page });\n    }\n\n    /** default page set */\n    setDefaultPage(page: View): void {\n        this.defaultRoute = { path: '', page };\n    }\n\n    /** route execute function */\n    route() {\n        const routePath = location.hash;\n\n        if (routePath === '' && this.defaultRoute) {\n            this.defaultRoute.page.render();\n        }\n\n        for (const routeInfo of this.routeTable) {\n            if (routePath.indexOf(routeInfo.path) >= 0) {\n                routeInfo.page.render();\n                break;\n            }\n        }\n    }\n}","/** view - 공통 요소 */\nexport default abstract class View {\n    private template: string;\n    private renderTemplate: string;\n    private container: HTMLElement;\n    private htmlList: string[]; // empty array -> html list append\n\n    constructor(containerId: string, template: string) {\n        const containerElement = document.getElementById(containerId);\n\n        if (!containerElement) {\n            throw '최상위 컨테이너가 없어 UI를 진행하지 못합니다.'\n        }\n\n        this.container = containerElement;\n        this.template = template;\n        this.renderTemplate = template;\n        this.htmlList = [];\n    }\n\n    protected updateView(): void {\n        this.container.innerHTML= this.renderTemplate;\n        this.renderTemplate = this.template; // UI 업데이트 작업 후 원본 템플릿으로 복원\n    }\n\n    /** html 문자열 추가 함수 */\n    protected addHtml(htmlString: string): void {\n        this.htmlList.push(htmlString);\n    }\n\n    /** 문자열 병합 값 리턴 함수 */\n    protected getHtml(): string {\n        const snapshot = this.htmlList.join('');\n        this.clearHtmlList(); // html list clear\n        return snapshot;\n    }\n\n    /** template 내용 대체 함수 */\n    protected setTemplateData(key: string, value: string):void {\n        this.renderTemplate = this.renderTemplate.replace(`{{__${key}__}}`, value);\n    }\n\n    /** html list clear 함수 */\n    private clearHtmlList(): void {\n        this.htmlList = [];\n    }\n\n    abstract render(...params: string[]): void; // abstract method\n}","import { NewsFeed, NewsDetail } from '../types';\n\nexport default class Api {\n    ajax: XMLHttpRequest;\n    url: string;\n\n    constructor(url: string) {\n        this.ajax = new XMLHttpRequest();\n        this.url = url;\n    }\n\n    getRequest<AjaxResponse>(): AjaxResponse {\n        this.ajax.open('GET', this.url, false);\n        this.ajax.send();\n\n        return JSON.parse(this.ajax.response) as AjaxResponse;\n    }\n}\n\nexport class NewsFeedApi extends Api {\n    constructor(url: string) {\n        super(url);\n    }\n\n    getData(): NewsFeed[] {\n        return this.getRequest<NewsFeed[]>();\n    }\n}\n\nexport class NewsDetailApi extends Api {\n    constructor(url: string) {\n        super(url);\n    }\n\n    getData(): NewsDetail {\n        return this.getRequest<NewsDetail>();\n    }\n}\n\n\n// // mixin\n// function applyApiMixins(targetClass: any, baseClasses: any) {\n//     baseClasses.forEach(baseClass => {\n//         Object.getOwnPropertyNames(baseClass.prototype).forEach(name => {\n//             const descriptor = Object.getOwnPropertyDescriptor(baseClass.prototype, name);\n\n//             if (descriptor) {\n//                 Object.defineProperty(targetClass.prototype, name, descriptor);\n//             }\n//         });\n//     });\n// }\n\n// // apply mixin\n// interface NewsFeedApi extends Api{};\n// interface NewsDetailApi extends Api{};\n\n// applyApiMixins(NewsFeedApi, [Api]);\n// applyApiMixins(NewsDetailApi, [Api]);","export const URL_ADDR = 'https://api.hnpwa.com/v0/news/1.json';\nexport const CONTENT_URL = 'https://api.hnpwa.com/v0/item/@id.json'; // 해당 콘텐츠의 url","import View from '../core/view';\nimport { NewsDetailApi } from '../core/api';\nimport { NewsDetail, NewsComment } from '../types';\nimport { CONTENT_URL } from '../config';\n\nconst template = `\n    <div class=\"bg-gray-600 min-h-screen pb-8\">\n        <div class=\"bg-white text-xl\">\n            <div class=\"mx-auto px-4\">\n                <div class=\"flex justify-between tiems-center py-6\">\n                    <div class=\"flex justify-start\">\n                        <h1 class=\"font-extrabold\">Hacker News</h1>\n                    </div>\n                    <div class=\"items-center justify-end\">\n                        <a href=\"#/page/{{__currentPage__}}\" class=\"text-gray-500\">\n                            <i class=\"fa fa-times\"></i>\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"h-full border rounded-xl bg-white m-6 p-4\">\n            <h2>{{__title__}}</h2>\n            <div class=\"text-gray-400 h-20\">\n                {{__content__}}\n            </div>\n            {{__comments__}}\n        </div>\n    </div>\n    `;\n\nexport default class NewsDetailView extends View {\n    constructor(containerId: string) {\n        super(containerId, template);  \n    }\n\n    render = (id: string): void => {\n        const api = new NewsDetailApi(CONTENT_URL.replace('@id', id));\n\n        // 피드 방문 처리\n        for(let i=0; i < window.store.feeds.length; i++) {\n            if (window.store.feeds[i].id === Number(id)) {\n                window.store.feeds[i].read = true;\n                break;\n            }\n        }\n\n        const newsDetail: NewsDetail = api.getData();\n\n        this.setTemplateData('currentPage', window.store.currentPage.toString());\n        this.setTemplateData('title', newsDetail.title);\n        this.setTemplateData('content', newsDetail.content);\n        this.setTemplateData('comments', this.makeComment(newsDetail.comments));\n\n        this.updateView();\n    }\n\n    /** 댓글 및 대댓글 생성 함수 */\n    private makeComment(comments: NewsComment[]): string {\n        for(let i = 0; i < comments.length; i++) {\n            const comment: NewsComment = comments[i];\n            \n            this.addHtml(`\n              <div style=\"padding-left: ${comment.level * 40}px;\" class=\"mt-4\">\n                <div class=\"text-gray-400\">\n                    <i class=\"fa fa-sort-up mr-2\"></i>\n                    <strong>${comment.user}</strong> ${comment.time_ago}\n                </div>\n                <p class=\"text-gray-700\">${comment.content}</p>\n                </div>      \n            `);\n\n          // 대댓글 처리\n            if (comment.comments.length > 0) {\n                this.addHtml(this.makeComment(comment.comments));\n            }\n        }\n\n        return this.getHtml();\n    }\n}\n    ","import View from '../core/view';\nimport { NewsFeedApi } from '../core/api';\nimport { NewsFeed } from '../types';\nimport { URL_ADDR } from '../config';\n\nconst template = `\n        <div class=\"bg-gray-600 min-h-screen\">\n            <div class=\"bg-white text-xl\">\n                <div class=\"mx-auto px-4\">\n                    <div class=\"flex justify-between items-center py-6\">\n                        <div class=\"flex justify-start\">\n                            <h1 class=\"font-extrabold\">Hacker News</h1>\n                        </div>\n                        <div class=\"item-center justify-end\">\n                            <a href=\"#/page/{{__prev_page__}}\" class=\"text-gray-500\">Previous</a>\n                            <a href=\"#/page/{{__next_page__}}\" class=\"text-gray-500 ml-4\">Next</a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"p-4 text-2xl text-gray-700\">{{__news_feed__}}</div>\n        </div>\n        `;\n\n\nexport default class NewsFeedView extends View {\n    private api: NewsFeedApi;\n    private feeds: NewsFeed[];\n\n    constructor(containerId: string) {\n        super(containerId, template);\n\n        this.feeds = window.store.feeds; // json 데이터 객체 변환 후 리턴\n        this.api = new NewsFeedApi(URL_ADDR); // NewsFeedApi class instance\n    \n        // 최초 접근의 경우\n        if (window.store.feeds.length === 0) {\n            this.feeds = window.store.feeds = this.api.getData();\n            this.makeFeeds();\n        }\n    }\n\n    /** 뉴스 목록 호출 함수 */\n    render(): void {\n        // 디폴트 페이징 예외 처리\n        window.store.currentPage = Number(location.hash.substr(7) || 1);\n\n        for (let i = (window.store.currentPage - 1) * 10; i < window.store.currentPage * 10; i++) {\n            const {read, id, title, comments_count, user, points, time_ago} = this.feeds[i];\n\n            this.addHtml(\n            `\n            <div class=\"p-6 ${read ? 'bg-gray-400' : 'bg-white'} mt-6 rounded-lg shadow-md transition-colors duration-500 hover:bg-green-100\">\n                <div class=\"flex\">\n                    <div class=\"flex-auto\">\n                        <a href=\"#/show/${id}\">${title}</a>\n                    </div>\n                    <div class=\"text-center text-sm\">\n                    <div class=\"w-10 text-white bg-green-300 rounded-lg px-0 py-2\">\n                            ${comments_count}\n                        </div>\n                    </div>\n                </div>\n                <div class=\"flex mt-3\">\n                    <div class=\"grid gird-cols-3 text-sm text-gray-500\">\n                        <div><i class=\"fas fa-user mr-1\"></i>${user}</div>\n                        <div><i class=\"fas fa-heart mr-1\"></i>${points}</div>\n                        <div><i class=\"far fa-clock mr-1\"></i>${time_ago}</div>\n                    </div>\n                </div>\n            </div>\n            `);\n        }\n\n        this.setTemplateData('news_feed', this.getHtml()); // template replace - news list content\n        this.setTemplateData('prev_page', String(window.store.currentPage > 1 ? window.store.currentPage - 1 : 1)); // prev page \n        this.setTemplateData('next_page', String(window.store.currentPage + 1)); // next page\n        \n        this.updateView();\n    }\n\n    /** 방문 페이지 상태 관리 함수 */\n    private makeFeeds(): void {\n        for (let i = 0; i < this.feeds.length; i++) {\n            this.feeds[i].read = false;\n        }\n    }\n}","export { default as NewsDetailView } from \"./news-detail-view\";\nexport { default as NewsFeedView } from \"./news-feed-view\";","import Router from \"./core/router\";\nimport { NewsFeedView, NewsDetailView} from './page';\nimport { Store } from './types';\n\nconst store: Store  = {\n    currentPage: 1,\n    feeds: [],\n};\n\n// 전역 스토어 설정\ndeclare global {\n    interface Window {\n        store: Store;\n    }\n}\nwindow.store = store;\n\nconst router: Router = new Router();\nconst newsFeedView = new NewsFeedView('root');\nconst newsDetailView = new NewsDetailView('root');\n\nrouter.setDefaultPage(newsFeedView); // default page set\n\nrouter.addRoutePath('/page/', newsFeedView);\nrouter.addRoutePath('/show/', newsDetailView);\n\nrouter.route(); // 실행"]}